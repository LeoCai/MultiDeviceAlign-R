{
    "contents" : "testAlign = function(data1, data2,s1,e1,tag = \"\") {\n  c1 = sqrt(data1$Acc0 ^ 2 + data1$Acc1 ^ 2 + data1$Acc2 ^ 2)\n  c2 = sqrt(data2$Acc0 ^ 2 + data2$Acc1 ^ 2 + data2$Acc2 ^ 2)\n  c11 = c1[s1:e1]\n  maxCor = 0\n  maxS2 = s1\n  maxE2 = e1\n  range = round(s1 / 2)\n  for (i in 1:range) {\n    s2 = s1 - range / 2 + i\n    e2 = e1 - range / 2 + i\n    c22 = c2[s2:e2]\n    cvdata = cor(c11,c22)\n    # print(paste(s2,e2,cvdata))\n    if (cvdata > maxCor) {\n      maxS2 = s2; maxE2 = e2\n      maxCor = cvdata\n    }\n    # print(cvdata)\n  }\n  c22 = c2[maxS2:maxE2]\n  matplot(1:length(c11),cbind(c11,c22),type = \"l\",main = paste(tag,round(maxCor, 4)))\n  print(paste(tag,\"[\",maxS2,\":\",maxE2,\",]\", sep = \"\"))\n  print(round(maxCor, 4))\n  print(\"\")\n  return (c(maxS2,maxE2))\n  # matplot(1:length(c1),cbind(c1,c2),type=\"l\",main = round(cor(c1,c2), 4) )\n}\n\nmylowpass = function(top) {\n  return(as.data.frame(rollapply(top,3,mean)))\n}\n\ni = 2\n\ntop_data = read.csv(paste(\"./datas/3_2_data/top/1\",i,\".csv\",sep = \"\"))\nleftHand_data = read.csv(paste(\"./datas/3_2_data/lefthand/1\",i,\".csv\",sep = \"\"))\nrightHand_data = read.csv(paste(\"./datas/3_2_data/righthand/1\",i,\".csv\",sep = \"\"))\nleftPants_data = read.csv(paste(\"./datas/3_2_data/leftpants/1\",i,\".csv\",sep = \"\"))\nrightPants_data = read.csv(paste(\"./datas/3_2_data/rightpants/1\",i,\".csv\",sep = \"\"))\nglass_data = read.csv(paste(\"./datas/3_2_data/glass/1\",i,\".csv\",sep = \"\"))\n\nr = testAlign(top_data, top_data,100,800,\"top\")\ntop = top_data[r[1]:r[2],]\n\nr = testAlign(top_data, leftHand_data,100,800,\"lefthand\")\nleftHand = leftHand_data[r[1]:r[2],]\n\nr = testAlign(top_data, rightHand_data,100,800,\"righthand\")\nrightHand = rightHand_data[r[1]:r[2],]\n\nr = testAlign(top_data, leftPants_data,100,800,\"leftpants\")\nleftPants = leftPants_data[r[1]:r[2],]\n\nr = testAlign(top_data, rightPants_data,100,800,\"rightpants\")\nrightPants = rightPants_data[r[1]:r[2],]\n\nr = testAlign(top_data, glass_data,100,800,\"glass\")\nglass = glass_data[r[1]:r[2],]\n\ntop = mylowpass(top)\nleftHand = mylowpass(leftHand)\nrightHand = mylowpass(rightHand)\nleftPants = mylowpass(leftPants)\nrightPants = mylowpass(rightPants)\n",
    "created" : 1457061305104.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "266710246",
    "id" : "8001F9A8",
    "lastKnownWriteTime" : 1457072809,
    "path" : "~/workspace/R/multidevicealign/timealign_3_2.R",
    "project_path" : "timealign_3_2.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 8,
    "source_on_save" : false,
    "type" : "r_source"
}